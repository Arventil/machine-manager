<%- include('../../includes/head') %>
</head>

<body>
    <%- include('../../includes/navigation') %>
    <main>
        <div class="generalContainer">
            <div class="machineTitle">
                <%= machine.name %>
            </div>
            <br>
            <div class="filesPageContainer">
                <div>
                    <span class="blockTitle">Lista plików:</span>
                </div>
                <div class="filesPageBlockContainer">
                    <b><%= files.length == 0 ? 'Brak plików dla tej maszyny!' : '' %></b>
                    <table class="customTable" style="width: 100%; font-size: 18px;">
                            <% for(let a = 0; a < files.length; a++) { %>
                                <tr>
                                    <td class="nameCell">
                                        <a href="/downloadFile/<%= machine.id %>/<%= files[a] %>"><%= files[a] %></a>
                                    </td>
                                    <td style="text-align: left">
                                        <a class="btn" href="/deleteFile/<%= machine.id %>/<%= files[a] %>">Usuń</a>
                                    </td>
                                </tr>
                            <% } %>
                       
                    </table>
                    <br>
                </div>
                <div>
                    <form action="/files/<%= machine.id %>" method="POST" enctype="multipart/form-data">
                        <span class="blockTitle">Dodawanie pliku:</span>
                        <br>
                        <div class="filesPageBlockContainer">
                            <input type="hidden" name="machineId" value="<%= machine.id %>">
                            <input type="file" name="file">
                            <button class="btn">Dodaj plik</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>
    <%- include('../../includes/end') %>